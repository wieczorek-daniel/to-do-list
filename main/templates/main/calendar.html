{% extends 'main/base.html' %}

{% block content %}
<script>
    // FullCalendar initialization
    document.addEventListener('DOMContentLoaded', function () {
        var calendarElement = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarElement, {
            initialView: 'dayGridMonth',
            dayMaxEventRows: true,
            headerToolbar: {
                start: 'prev,next today',
                center: 'title',
                end: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek'
            },
            events: [
                {% for task in tasks %}
                {
                title: "{{ task.title }}",
                start: '{{ task.deadline | date:"Y-m-d H:i" }}',
            },
            {% endfor %}
            ],
            eventColor: '#4FB3BF',
    });
    calendar.render();
});
</script>
<div class="container calendar-container">
    <div id='calendar'></div>
</div>
{% endblock %}
